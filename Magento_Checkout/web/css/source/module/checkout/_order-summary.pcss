:root {
    --checkout-summary__background-color: var(--color-white-smoke);
    --checkout-summary__padding: 22px var(--indent__l);

    --checkout-summary-title__margin: var(--indent__s);
    --checkout-summary-mark-value__color: var(--color-gray60);

    --checkout-summary-items__max-height: 370px;
    --checkout-summary-items__padding: 15px;
}

//
//  Order Summary
//  ---------------------------------------------

.opc-block-summary {
    //&:extend(.abs-add-box-sizing all);
    background: var(--checkout-summary__background-color);
    padding: var(--checkout-summary__padding);
    margin: 0 0 var(--indent__base);

    > .title {
        //&:extend(.abs-checkout-title all);
        display: block;
    }

    //  Totals table
    .table-totals {
        //&:extend(.abs-sidebar-totals all);
    }

    .mark {
        .value {
            color: var(--checkout-summary-mark-value__color);
            display: block;
        }
    }

    .discount.coupon {
        display: none;
    }

    .grand.incl {
        & + .grand.excl {
            .mark,
            .amount {
                border-top: 0;
                font-size: 14rem;
                padding-top: 0;

                strong {
                    font-weight: var(--font-weight__regular);
                }
            }
        }
    }

    .not-calculated {
        font-style: italic;
    }

    //
    //  Items list
    //  ---------------------------------------------

    //  Block title
    .items-in-cart {
        > .title {
            border-bottom: var(--border-width__base) solid var(--border-color__base);
            padding: var(--indent__s) var(--indent__xl) var(--indent__s) 0;
            cursor: pointer;
            //.lib-icon-font(
            //var(--icon-down),
            //var(--_icon-font-size): 30px,
            //var(--_icon-font-line-height): 12px,
            //var(--_icon-font-text-hide): true,
            //var(--_icon-font-margin): 3px 0 0,
            //var(--_icon-font-position): after,
            //var(--_icon-font-display): block
            //);
            margin-bottom: 0;
            position: relative;

            &:after {
                position: absolute;
                right: 0;
                top: var(--indent__s);
            }

            strong {
                font-size: 18rem;
                font-weight: var(--font-weight__light);
                margin: 0;
            }
        }

        &.active {
            > .title {
                //.lib-icon-font-symbol(
                //var(--_icon-font-content): var(--icon-up),
                //var(--_icon-font-position): after
                //);
            }
        }

        .product {
            position: relative;
            .item-options {
                //&:extend(.abs-product-options-list all);
                //&:extend(.abs-add-clearfix all);
            }
        }
    }

    //  Cart items
    .minicart-items-wrapper {
        margin: 0 calc(-1 * var(--checkout-summary-items__padding)) 0 0;
        max-height: var(--checkout-summary-items__max-height);
        padding: var(--checkout-summary-items__padding) var(--checkout-summary-items__padding) 0 0;
        border: 0;
    }

    .column.main & {
        .product-item {
            margin: 0;
            padding-left: 0;
        }
    }

    .product-item {
        .product-item-inner {
            display: table;
            margin: 0 0 var(--indent__s);
            width: 100%;
        }

        .product-item-name-block {
            display: table-cell;
            padding-right: var(--indent__xs);
            text-align: left;
        }

        .subtotal {
            display: table-cell;
            text-align: right;
        }

        .price {
            font-size: 16rem;
            font-weight: var(--font-weight__regular);
        }

        .price-including-tax {
            & + .price-excluding-tax {
                margin: 0;

                .price {
                    font-size: 10rem;
                }
            }
        }
    }

    .actions-toolbar {
        position: relative;
        z-index: 1;

        .secondary {
            border-top: var(--border-width__base) solid var(--border-color__base);
            display: block;
            float: none;
            margin: -1px 0 0;
            padding: 15px 0 0;
            text-align: left;

            .action {
                margin: 0;
            }
        }
    }
}

//
//  Desktop
//  _____________________________________________

@media (min-width: env(--screen__m)) {
    .opc-summary-wrapper {
        .modal-header {
            .action-close {
                display: none;
            }
        }
    }
}
